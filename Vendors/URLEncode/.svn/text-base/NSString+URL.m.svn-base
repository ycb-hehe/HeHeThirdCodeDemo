//
//  NSString+URL.m
//  LavaQun
//
//  Created by linlin on 12-9-25.
//  Copyright (c) 2012å¹´ linlin. All rights reserved.
//

#import "NSString+URL.h"

@implementation NSString (URL)

- (NSString *)encodeURIComponent
{
//    return [NSMakeCollectable(CFURLCreateStringByAddingPercentEscapes(NULL,
//                                                                     (CFStringRef)self,
//                                                                     NULL,
//                                                                     (CFStringRef)@"!*'();:@&=+$,/?%#[]",
//                                                                     kCFStringEncodingUTF8)) autorelease];
    
    return [(NSString *)CFURLCreateStringByAddingPercentEscapes(NULL,
                                                               (CFStringRef)self,
                                                               NULL,
                                                               (CFStringRef)@"!*'();:@&=+$,/?%#[]",
                                                               kCFStringEncodingUTF8) autorelease];
}


+ (NSString *)decodeString:(NSString*)encodedString

{
    //NSString *decodedString = [encodedString stringByReplacingPercentEscapesUsingEncoding:NSUTF8StringEncoding ];
    
    NSString *decodedString  = (NSString *)CFURLCreateStringByReplacingPercentEscapesUsingEncoding(NULL,(__bridge CFStringRef)encodedString,CFSTR(""),CFStringConvertNSStringEncodingToEncoding(NSUTF8StringEncoding));
    return decodedString;
}

@end
